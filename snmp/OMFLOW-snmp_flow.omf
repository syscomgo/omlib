[{"app_name":"SNMP","app_attr":"lib","language_package":"{\"zh-hant\": {\"SNMP\": \"\"}, \"en\": {\"SNMP\": \"\"}, \"ja\": {\"SNMP\": \"\"}, \"zh-hans\": {\"SNMP\": \"\"}}","flow_list":[{"flow_name":"SNMP","description":"","flowobject":{"flow_item_counter":5,"flow_line_counter":5,"form_object":{"form_item_counter":1,"form_box_counter":1,"user":[],"group":[],"level":[],"title":false,"status":[],"op1":[],"op2":[],"items":[{"id":"FORMBOX_1","type":"box6","parent":"public","hidden":false,"config":{"idcounter":1,"color":"box box-primary","title":"未命名"}},{"id":"FORMITM_1","type":"checkbox","parent":"FORMBOX_1","hidden":false,"config":{"idcounter":1,"title":"勾選","lists":[{"value":"1","text":"1"},{"value":"2","text":"2"}],"value":"","require":true,"readonly":false,"multiple":true}}]},"is_sub":false,"subflow":[],"items":[{"id":"FITEM_1","type":"start","text":"開始","left":0,"top":0,"config":{"error_pass":false,"load_balance":false,"input":[{"require":false,"value":"success","name":"result","des":""},{"require":false,"value":null,"name":"ip","des":""},{"require":false,"value":"161","name":"port","des":""},{"require":false,"value":"public","name":"community","des":""},{"require":false,"value":null,"name":"OID","des":""}],"output":[],"subflow_input":[],"subflow_output":[],"top":0,"left":210,"callable":false,"subflow_id":""}},{"id":"FITEM_4","type":"end","text":"結束","left":0,"top":0,"config":{"output":[{"value":"$(result)","name":"$(result)","des":""},{"value":"$(OID_value)","name":"$(OID_value)","des":""}],"calculate":[],"top":275,"left":210}},{"id":"FITEM_5","type":"python","text":"執行","left":0,"top":0,"config":{"autoinstall":true,"error_pass":false,"load_balance":false,"log":true,"input":[{"require":false,"value":"$(result)","name":"result","des":""},{"require":false,"value":"$(ip)","name":"ip","des":""},{"require":false,"value":"$(port)","name":"port","des":""},{"require":false,"value":"$(community)","name":"community","des":""},{"require":false,"value":"$(OID)","name":"OID","des":""},{"require":false,"value":null,"name":"OID_value","des":""}],"output":[{"value":"$(result)","name":"$(result)","des":""},{"value":"$(OID_value)","name":"$(OID_value)","des":""}],"calculate":[],"code":"import asyncio\nimport aiosnmp\n\nip = \"10.1.168.2\"\nport = \"161\"\ncommunity = \"public\"\nOID = \"1.3.6.1.2.1.1.3.0\"\nOID_value= \"\"\n\nasync def main():\n    global OID_value\n    with aiosnmp.Snmp(host=ip, port=int(port), community=community) as snmp:\n        for res in await snmp.get(OID):\n            OID_value = res.value\n            print(OID_value)\n            \n            \nloop = asyncio.new_event_loop()\nasyncio.set_event_loop(loop)\n#loop = asyncio.get_event_loop()\nloop.run_until_complete(main())\nprint(OID_value)","top":125,"left":210,"collector":null}},{"id":"FLINE_MW4","type":"line","config":{"target_side":"top","source_side":"bottom","target_item":"FITEM_5","source_item":"FITEM_1","idcounter":4,"linebox_left":270,"linebox_top":112.5,"linebox_long":0,"linebox_top_width":32.5,"linebox_bottom_width":-32.5,"linebox_arrow_top":135,"linebox_arrow_left":266}},{"id":"FLINE_MW5","type":"line","config":{"target_side":"top","source_side":"bottom","target_item":"FITEM_4","source_item":"FITEM_5","idcounter":5,"linebox_left":270,"linebox_top":250,"linebox_long":0,"linebox_top_width":45,"linebox_bottom_width":-45,"linebox_arrow_top":285,"linebox_arrow_left":266}}],"version":16777216,"uid":1602813281265},"config":{"subflow":[],"permission":[],"name":"SNMP","description":"","api_path":"snmp","fp_show":true,"attachment":false,"relation":false,"worklog":false,"history":true,"mission":true,"flowlog":true,"api":true,"title_field":0,"status_field":0,"display_field":0,"search_field":0},"flow_app_id__app_name":"SNMP"}]}]